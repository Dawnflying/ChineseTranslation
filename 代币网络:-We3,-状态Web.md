我们今天拥有的互联网是有毛病的。我们无法控制我们的数据，也没有本地价值结算层。互联网大规模采用30年后，我们的数据架构仍然基于独立计算机的概念，在独立计算机中，数据集中存储和管理在服务器上，并由客户端发送或检索。每次我们在互联网上互动，我们数据的副本都会被发送到服务提供商的服务器上，每次发生这种情况，我们都会失去对数据的控制。因此，尽管我们生活在一个日益互联的世界里，但我们的数据大多是集中管理的，并分散在互联网上：在本地或远程服务器上，在我们的个人电脑、移动设备、闪存驱动器上，越来越多地也在我们的手表、汽车、电视或冰箱上。这引发了信任问题。我能信任那些存储和管理我的数据的人和机构，防止任何形式的腐败——内部或外部，故意或意外的腐败吗？集中的数据结构不仅会引起个人数据的安全、隐私和控制问题，还会导致商品和服务供应链中的许多低效问题。

这些问题有历史根源，因为计算机先于互联网。在个人计算机的早期，人们不能将文件从一台计算机发送到另一台计算机。你需要将文件保存在软盘上，走到需要文件的人身边，并将文件复制到他们的计算机上，这样他们就可以使用它。如果那个人在另一个国家，你需要去邮局把软盘邮寄给他们。网络化间互连的协议（IP）的出现结束了这一切，用一种数据传输协议将所有那些独立的计算机连接起来，这种协议使数据的传输速度更快，并大幅削减了信息交换的交易成本。然而，我们今天使用的互联网仍然主要建立在独立计算机的思想之上，其中大部分数据集中存储和管理在可信机构的服务器上。这些服务器上的数据受到防火墙的保护，需要系统管理员来管理存储在服务器上的数据的安全性。

20世纪90年代初万维网的出现增加了互联网的可用性，网站在视觉上吸引人，易于导航。十年后，互联网变得更加成熟，可编程。我们看到了所谓的Web2的崛起，它给我们带来了社交媒体、电子商务和知识平台。Web2彻底改变了社会互动，使信息、商品和服务的生产者和消费者更加紧密地联系在一起。Web2让我们能够在全球范围内享受点对点（P2P）互动，但总是有一个中间人：一个在两个互不认识或互不信任的人之间充当可信中介的平台。虽然这些互联网平台在创造P2P经济方面做得非常出色，但它们也制定了所有规则，并控制着用户的数据。
在这种背景下，区块链网络似乎是下一代互联网的驱动力，有些人称之为Web3。它们重塑了数据在互联网上存储和管理的方式，提供了一组独特的数据——一个通用的状态层——由网络中的所有节点共同管理。这个独特的状态层首次在没有中介的情况下为互联网提供了一个原生价值结算层。它支持真正的P2P交易，这一切都始于比特币的出现。

Web2是一场前端革命，而Web3是一场后端革命。Web3重塑了互联网在后端的连接方式，将互联网的系统功能与计算机的系统功能相结合。然而，对于普通用户来说，互联网的前端不会有太大变化。Web3代表了一套协议，以分布式账本为骨干。数据由计算机的P2P网络协同管理。管理规则在协议中正式化，并由所有网络参与者的大多数共识来保护，他们的活动受到网络代币的激励。该协议正式化了网络的治理规则，并确保互不了解或互不信任的人通过网络达成和解决协议。虽然试图操纵服务器上的数据就像闯入一所房子，那里的安全由栅栏和警报系统提供，但Web3的设计方式是，你需要同时闯入全球多栋房子，每栋房子都有自己的栅栏和警报系统。这是可能的，但代价高得令人望而却步。

图片: https://uploader.shimo.im/f/8ZgCQ2xMK7sj4NHb.png

图片: https://uploader.shimo.im/f/AngxqEsIaOrwhe3J.png

 
 
 
**区块链：一个有状态的协议**

我们今天使用的互联网是“无状态的”。它没有一个本地机制来转移计算机科学所说的“状态”状态指的是信息，或者网络中“谁是谁?"; "谁拥有什么?"; 和“谁有权做什么？”的状态。轻松转移价值和P2P的能力对于有效市场至关重要，而“状态”是管理和转移价值的关键属性。在Web3中，价值由加密安全的代币表示。

如果你不能在互联网上保持状态，没有集中的机构作为清算实体，你就无法转移价值。虽然今天的互联网已经将信息转移速度提高了几个数量级，但我们仍然需要可信的机构，如互联网平台提供商，来代理我们的行动，作为解决这种状态缺失的变通办法。像当前网络这样的无状态协议只管理信息的传输，而信息的发送方或接收方不知道对方的状态。这种状态的缺乏是基于网络所基于的协议的简单性，如TCP/IP、SMTP或HTTP。这一系列协议规范数据的传输，而不是数据的存储方式。数据可以集中存储，也可以分散存储。出于许多原因，集中数据存储成为数据存储和管理的主流形式。

会话cookie和集中服务提供商的引入为这种无状态网络提供了变通办法。会话cookie的发明是为了让基于网络的应用程序能够在本地设备上保持状态。在会话cookie之前——在万维网的早期——我们没有浏览历史，没有保存最喜欢的网站，也没有自动完成，这意味着我们每次使用网站都必须重新提交用户信息。虽然会话cookie提供了更好的可用性，但这些cookie是由服务提供商创建和控制的，如谷歌、亚马逊、脸书、您的银行、您的大学等，其角色是提供和管理用户的状态。

多年来，Web2平台引入了许多有益的服务，并创造了相当大的社会和经济价值。然而，财富大多是由提供服务的公司积累的，而不是由为这些服务贡献内容和价值的公众积累的。Web2平台没有分散世界，而是促进了经济决策、R&D决策的重新集中，随后导致了围绕这些平台提供商的巨大权力集中。此外，由于早期互联网是围绕着免费信息的理念创建的，客户往往不愿意用经常性的订阅费为在线内容付费，在大多数情况下，小额支付仍然不可行。因此，许多这些Web2平台需要找到从它们提供的免费服务中获利的替代方式，而这一替代方式就是广告。随之而来的是基于用户行为和私人数据商品化的定向广告。因此，商业模式围绕建立在收集的数据集基础上的定向广告发展起来，这些数据集为这些平台提供“状态”。因此，用户用他们的私人数据为服务付费。
比特币网络引入了一种机制，让网络中的每个节点以数字本地格式发送和接收代币，并记录代币的状态。比特币网络的共识协议被设计成网络可以集体记住之前的事件或用户互动，通过为谁收到什么和何时收到什么提供单一的参考来源来解决“双重支出”问题。因此，比特币协议可以被视为游戏规则的改变者，为更分散的网络铺平了道路。2008年的比特币白皮书开创了一种新的公共基础设施形式，所有比特币代币的状态都被集体维护。

区块链网络，如比特币网络，是骨干，也是起点，但不是这个新的去中心化网络中唯一的构建块。Web3架构利用集体维护的通用状态进行去中心化计算。去中心化应用程序可以通过区块链网络或其他分布式分类账来管理它们的部分或全部内容和逻辑。但也需要其他协议。许多开发人员已经开始构建替代区块链网络，以及Web3的补充协议。
 
**其他Web3协议**

区块链并不是去中心化网络所需的唯一技术。创建去中心化应用程序需要许多其他协议。然而，“区块链”一词似乎被用作许多Web3协议或Web3本身的同义词，至少一些记者和公众是这样认为的。除了计算之外，我们还需要文件存储、消息传递、身份、外部数据（预言机）和许多其他分散服务。区块链网络只是运行在Web3之上的去中心化应用程序的处理器。它充当分布式记账机，记录所有代币交易并执行计算。

区块链网络对于存储数据来说一点也不理想，主要有两个原因：（一）公共区块链网络存储大型数据集太慢、太贵；（二）存储纯文本数据区块链网络不允许“设计隐私”例如，要创建一个分散的YouTube，需要分散的文件存储来管理视频文件。一系列不同的分散存储网络解决方案已经出现，如“IPFS,” “Filecoin,” “Swarm,” “Storj,” 或“Sia”。分散存储网络激励网络节点与本地代币共享存储空间，并将云存储转变为算法市场。它们在分散程度、隐私和激励机制的选择上有所不同。例如，有些甚至可能没有激励层，比如IPFS。另一方面，像“Golem”这样的协议通过用它们的本地协议代币奖励网络中的贡献来提供分散的渲染能力。

Web3开发者社区在过去几年里一直在发展。不同的团队正在开发这个新兴网络的各种组件；然而，其中许多协议仍在开发中。Web3应用程序通常与一开始未知的对等体通信，并且在速度和可靠性方面质量不一。需要新的库和API来驾驭这种复杂性。目前还不清楚它们何时会达到临界质量，有可能在更大范围内取代当前的网络应用程序，或者哪些标准最终会占上风。因此，从“客户端-服务器网络”到“去中心化网络”的转变将是渐进的，而不是激进的。它似乎正在从集中到部分分散再到完全分散。

在为Web3开发互补技术时，最紧迫的应用研究问题之一是如何用代币奖励网络参与者，从而使网络保持抗攻击能力。其中的例子是分散文件存储解决方案、分散计算、数据分析或声誉的激励机制。许多不同的共识机制目前正在试验中，例如：“可检索性证明," "存储证明”和“时空证明”完全分散的解决方案，如IPFS和SWARM，还没有在功能上实现。
尽管去中心化架构比中心化Web2的前身更有弹性，但它们也更慢。速度、性能和可用性是Web3中的瓶颈，一旦Web3的核心组件启动并运行，这些瓶颈很可能会随着时间的推移而得到解决（阅读更多内容：附件-可扩展性）。互联网的未来可能会更加分散，然而，这并不意味着我们会完全摆脱中心化系统。中心化系统有优势，并且很可能会占上风，至少对于特定的用例来说。
 
图片: https://uploader.shimo.im/f/15UVn2RoQ7mSRPMa.png

**Web3中的去中心化应用**

与运行在单个计算机上的中心化应用程序相反，去中心化应用程序运行在P2P计算机网络上。它们自P2P网络出现以来就一直存在，不一定需要在区块链网络上运行。“Tor," "BitTorrent," "Popcorn Time”和“BitMessage”都是运行在P2P网络上的去中心化应用程序的例子，但不是运行在区块链网络上的，区块链网络是一种特定的P2P网络（阅读更多内容：附件——比特币和Web3的起源）。

传统应用程序使用超文本标记语言、CSS或JavaScript来呈现网页或移动应用程序。网页或移动应用程序的前端与一个或多个中心化数据库交互。例如，当你使用推特、脸书、亚马逊或Airbnb等服务时，网页将调用一个应用编程接口来处理存储在其服务器上的个人数据和其他必要信息，以便在前端显示它们。由于个性化数据存储在服务提供商的服务器上，用户ID和密码用于识别和认证，安全性较低。

去中心化应用程序看起来与当前的网站或移动应用程序没有任何不同。前端代表你所看到的，去中心化应用程序的后端代表整个业务逻辑。去中心化应用程序是区块链客户端——通常也被称为“钱包”它使用相同的技术来渲染网页或移动应用程序（如超文本标语、CSS、Javascript），但与区块链网络而不是服务器通信，在智能合约网络的情况下，还与智能合约通信（阅读更多内容：第2部分——智能合约）。钱包还管理公私密钥对和区块链地址，为网络节点提供唯一的身份，以便它们能够安全地与网络交互（阅读更多内容：第1部分-代币安全和以用户为中心的身份）。智能合约代表去中心化应用程序的核心业务逻辑，处理来自网络内外的数据馈送，以管理所有网络参与者的状态（阅读更多内容：第1部分-智能合约）。如果区块链客户端是一个完整节点，它还将管理账本的完整状态（阅读更多内容：第1部分——比特币、区块链和其他分布式账本）。在这种情况下，区块链客户端执行HTTP客户端和服务器的功能，因为所有数据都存储在客户端。前端数据，包括音频或视频文件和其他文档，可以集中存储在分散的存储网络上并由其管理，如“Swarm”或“IPFS”在撰写本书时，这些数据大部分仍然存储在服务器上并由服务器管理。
对于普通用户来说，去中心化应用程序需要与现有应用程序外观和感觉相同，这意味着如果要大规模采用它们，它们需要像使用起来一样简单和直观。目前，钱包软件和密钥管理很困难，这可能是Web3应用程序大规模采用的瓶颈。此外，只有当对中心化解决方案的不信任程度高到足以保证当前可用性权衡的程度时，才能大规模采用。
 
**章节概要**

我们今天拥有的互联网已经出了毛病。我们无法控制我们的数据，也没有本地价值结算层。每次我们在互联网上互动，我们数据的副本都会被发送到服务提供商的服务器，每次发生这种情况，我们都会失去对数据的控制。这就引发了信任问题。

我们今天使用的互联网在可信机构的服务器上存储和管理数据。在Web3中，数据存储在P2P网络的多个副本中，管理规则在协议中形式化，并由所有网络参与者的多数共识保护，通常（但不总是）用网络代币激励他们的活动。

在Web3中，网络的状态（由分类账表示）被共同维护。

Web2是前端革命，而Web3是后端革命，引入了通用状态层。它是由区块链网络或类似的分布式分类账领导的一套协议，旨在重塑互联网在后端的有线方式。Web3将互联网的系统功能与计算机的系统功能结合在一起。

与运行在单个计算机上的中心化应用程序相反，去中心化应用程序运行在计算机的P2P网络上。自P2P网络出现以来，它们就一直存在。去中心化应用程序不一定需要在区块链网络上运行。

去中心化应用程序是一个叫做“钱包”的区块链客户端它使用相同的技术来渲染网页或移动应用程序（如超文本记录语言、CSS、Javascript），但与区块链网络而不是服务器通信，在智能合约网络的情况下，还与智能合约通信。钱包还管理公私密钥对和区块链地址，为网络节点提供唯一的身份，并允许它们与网络交互。


**章节参考&进一步阅读**

*胡安·贝内特：“IPFS-内容寻址、版本、P2P文件系统（草案3)," 检索，2018年9月10日：https://ipfs.io/ipfs/QmR7GSQM93Cx5eAg6a6yRzNde1FQv7uL6X1o4k7zrJa3LX/ipfs. draft3. pdf

*弗雷德·埃尔森；“dApp开发者栈：区块链行业晴雨表”，2017年4月30日，检索自： https：//medium.com/@FEhrsam/the-dapp-developer-stack-the-blockchain-industry-barometer-8d55ec1c7d4

*Gaúcho Pereira Felipe Gaúcho："Web3视频栈绘制分散媒体的基础设施！"2018年8月16日，检索自：https://tokeneconomy.co/web3videostack-c423481c32a5

*詹姆斯·吉利斯；罗伯特·卡利奥：“网络是如何诞生的：万维网的故事”，牛津大学出版社，2000年，摘自https://books.google.de/books？ id=pIH-JijUNS0C&lpg=PA25&ot=MKZj0F7pJN&pg=PA25&redir_esc=y#v=onpage&q&f=false

*Koblitz， N.: "椭圆曲线密码体制."计算数学.48（177）： 203-209,1987

*拉普兰特，菲利普.: "《计算机科学、工程和技术词典》，2000年，儿童权利委员会出版社。第466页。

*特伦特·麦康尼：“区块链基础设施景观：构建存储、计算和通信表现的第一原则”，2017年7月15日，检索自： https：//medium.com/@trentmc0/blockchain-infrastructure-landscape-a-first-principles-framing-92cc5549bafe

*米勒，V.; "椭圆曲线在密码学中的应用。《密码学》。计算机科学讲义。85页。417-426,1985年

*Misra， Jayadev：《多编程的一门学科：分布式应用程序的编程理论》Springer，2001.

*莫内格罗，乔尔：“脂肪协议”，2016年8月8日，检索自：https://www.usv.com/blog/fat-protocols

*中本聪：《比特币：一个点对点的电子现金系统》，2008年Bitcoin.org，2014年3月20日从原文存档，检索自：https://bitcoin.org/bitcoin.pdf

*N. N.: "Web3基金会-网站”，检索自： https：//web3.foundation/

*N. N.: "通用Web3堆栈的综合维基”，检索，2018年9月10日：https://github.com/w3f/Web3-wiki/wiki

*布鲁斯·庞：“区块链将迎来分散计算时代，”2016年4月15日，摘自：https://blog.bigchaindb.com/blockchain-will-usher-in-the-era-of-decentralised-computing-7f35e94af0b6

*凯尔·萨马尼：“网络3栈”，2018年7月10日，摘自：https://multicoin.capital/2018/07/10/the-web3-stack/

*Stallings，W.: "计算机网络与互联网协议和技术”，皮尔森教育，2004年。

*埃姆雷·特基萨尔普：“理解网络3——用户控制的互联网。硬币库打破了网络3开发背后的动机和技术，”硬币库，2018年8月29日，检索自：https://blog.coinbase.com/understanding-web-3-a-user-controlled-internet-a39c21cf83f3

*托马斯，约翰；帕姆·曼特里：“复杂自适应区块链治理”，MATEC会议网络223,01010（2018）https://doi.org/10.1051/matecconf/201822301010ICAD 2018, , 检索自：https://www.matec-conferences.org/articles/matecconf/pdf/2018/82/matecconf_icad2018_01010.pdf

*斯蒂芬·图尔：“Web 3.0重温——第一部分：“跨链和跨协议”，2017年5月26日：https://blog.stephantual.com/web-3-0-revisited-part-one-across-chains-and-across-protocols-4282b01054c5

*Vinton G. Cerf； Robert E. Kahn（1974年5月). "分组网络互通的协议."电气学与电子工程学教师协会通信学报.22（5）： 637-648.doi:10.1109/tcom.1974.

*约翰·沃尔珀特：“开启有状态的互联网”，2018年8月2日，摘自：https://media.consensys.net/bring-on-the-stateful-internet-d589adc7bb65

*伍德，加文: "Đ应用程序： Web 3.0的样子，”2014年4月17日，检索自：http://gavwood.com/dappsweb3.html

*Filecoin： https：//filecoin.io/

*Golem：https://golem.netw

*IPFS： https: / / ipfs. io/

*SIA： https: / / /

*Storj： https: / / storj. io

*Swarm： https：//swarm-guide.readthedocs.io/en/latest/

